import{q as j,a as x,j as a}from"./index-BmUxf-W4.js";import{a as C}from"./index-CjQjypWB.js";import{S as h}from"./sweetalert2.esm.all-89IKscqO.js";import{b as k,a as _}from"./index.esm-CegkCxpS.js";import{C as g,a as b}from"./CCardBody-BuGbIR1M.js";import{C as y}from"./CCardHeader-BY9q6-ba.js";import{C as F}from"./CForm-BCpFP0OU.js";import{C as i,a as r}from"./CRow-COWdv7WZ.js";import{C as n}from"./CFormLabel-B8x8MA-m.js";import{C as s}from"./CFormInput-BxHjkWRv.js";import"./CFormControlWrapper-BS26FX2A.js";import"./CFormControlValidation-6GEEK3y9.js";import"./CFormText-Ck7FVgTK.js";const I=()=>{const d=j(),[l,p]=x.useState({pas_foto:null,scan_ktp:null,scan_ijazah:null,sertifikat_bahasa:null,sertifikat_keahlian:null,surat_keterangan_sehat:null,curriculum_vitae:null}),t=m=>{const{name:o,files:e}=m.target;p(c=>({...c,[o]:e[0]}))},u=async m=>{m.preventDefault();const o=new FormData;for(const e in l)l[e]&&o.append(e,l[e]);try{const e=C.get("login");if(!e){console.warn("Token tidak ditemukan di cookie.");return}const f=await(await fetch("https://mirai-be.valla.cloud/api/users/administrasi/document",{method:"POST",body:o,headers:{Authorization:`Bearer ${e}`}})).json();console.log(f),h.fire({icon:"success",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Lanjutkan",textColor:"#3085d6",titleText:"Berhasil Upload Dokumen"}).then(()=>{d("/tahapan/tkd")})}catch(e){console.error(e),h.fire({icon:"error",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Kembali",textColor:"#3085d6",titleText:"Gagal Upload Dokumen"})}};return a.jsx(k,{children:a.jsxs(g,{className:"mt-4",children:[a.jsx(y,{children:a.jsx("h4",{children:"Dokumen Administrasi"})}),a.jsx(b,{children:a.jsxs(F,{onSubmit:u,encType:"multipart/form-data",children:[a.jsxs(i,{className:"mb-3",children:[a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"scan_ktp",children:"Scan KTP"}),a.jsx(s,{type:"file",name:"scan_ktp",accept:".pdf",onChange:t})]}),a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"scan_ijazah",children:"Scan Ijazah"}),a.jsx(s,{type:"file",name:"scan_ijazah",accept:".pdf",onChange:t})]})]}),a.jsxs(i,{className:"mb-3",children:[a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"sertifikat_bahasa",children:"Sertifikat Bahasa"}),a.jsx(s,{type:"file",name:"sertifikat_bahasa",accept:".pdf",onChange:t})]}),a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"sertifikat_keahlian",children:"Sertifikat Keahlian"}),a.jsx(s,{type:"file",name:"sertifikat_keahlian",accept:".pdf",onChange:t})]})]}),a.jsxs(i,{className:"mb-3",children:[a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"surat_keterangan_sehat",children:"Surat Keterangan Sehat"}),a.jsx(s,{type:"file",name:"surat_keterangan_sehat",accept:".pdf",onChange:t})]}),a.jsxs(r,{md:6,children:[a.jsx(n,{htmlFor:"pas_foto",children:"Pas Foto (dalam jpg)"}),a.jsx(s,{type:"file",name:"pas_foto",accept:".jpg",onChange:t})]})]}),a.jsx(i,{className:"mb-3",children:a.jsxs(r,{children:[a.jsx(n,{htmlFor:"curriculum_vitae",children:"Curriculum Vitae"}),a.jsx(s,{type:"file",name:"curriculum_vitae",accept:".pdf",onChange:t})]})}),a.jsx(_,{type:"submit",color:"primary",children:"Upload Dokumen"})]})})]})})};export{I as default};
