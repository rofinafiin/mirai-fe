import{a as m,j as a}from"./index-Dql3S4fj.js";import{a as h}from"./index-xsH4HHeE.js";import{a as p}from"./index-CjQjypWB.js";import{S as d}from"./sweetalert2.esm.all-89IKscqO.js";import{C as j,a as u}from"./CRow-BBrMMdzX.js";import{C as f,a as v}from"./CCardBody-CjRpNjfv.js";import{C as b}from"./CCardHeader-CAXDJ9ss.js";import{C as T}from"./CCardTitle-BADrg40C.js";import{C as D,a as y,b as g,c as n,d as k,e as l}from"./CTable-BfGRDE3P.js";import{C as B}from"./CFormInput-BVQ4MgiS.js";import{a as S}from"./index.esm-D-22K3vy.js";import"./CFormControlWrapper-IEmL9y8A.js";import"./CFormControlValidation-DLk-lwr6.js";import"./CFormLabel-BTAs56Sa.js";import"./CFormText-Dg9OewcF.js";const K=()=>{const[o,c]=m.useState([]);m.useEffect(()=>{(async()=>{try{const e=p.get("login"),t=(await h.get("https://mirai-be.valla.cloud/api/adm/usr/interviewdata",{headers:{Authorization:`Bearer ${e}`}})).data.data.map((s,w)=>({id:w+1,userid:s.userid,nama:s.nama,email:s.email,interviewDate:s.tanggal_wawancara?s.tanggal_wawancara.slice(0,10):""}));c(t)}catch(e){console.error("Gagal mengambil data interview:",e)}})()},[]);const C=(r,e)=>{const i=o.map(t=>t.userid===e?{...t,interviewDate:r.target.value}:t);c(i)},x=async r=>{const e=o.find(i=>i.userid===r);if(!(e!=null&&e.interviewDate))return d.fire("Tanggal belum dipilih","Silakan isi tanggal interview terlebih dahulu.","warning");try{const i=p.get("login");await h.put("https://mirai-be.valla.cloud/api/adm/usr/interview",{userid:r,tanggal_wawancara:e.interviewDate},{headers:{Authorization:`Bearer ${i}`}}),d.fire("Berhasil!",`Tanggal interview untuk ${e.nama} telah disimpan.`,"success")}catch(i){console.error("Gagal simpan tanggal wawancara:",i),d.fire("Gagal!","Terjadi kesalahan saat menyimpan data.","error")}};return a.jsx(j,{children:a.jsx(u,{xs:12,children:a.jsxs(f,{children:[a.jsx(b,{children:a.jsx(T,{children:"Penjadwalan Tanggal Interview"})}),a.jsx(v,{children:a.jsxs(D,{responsive:!0,hover:!0,children:[a.jsx(y,{children:a.jsxs(g,{children:[a.jsx(n,{children:"#"}),a.jsx(n,{children:"Nama"}),a.jsx(n,{children:"Email"}),a.jsx(n,{children:"Tanggal Interview"}),a.jsx(n,{children:"Aksi"})]})}),a.jsx(k,{children:o.map((r,e)=>a.jsxs(g,{children:[a.jsx(l,{children:e+1}),a.jsx(l,{children:r.nama}),a.jsx(l,{children:r.email}),a.jsx(l,{children:a.jsx(B,{type:"date",value:r.interviewDate,onChange:i=>C(i,r.userid)})}),a.jsx(l,{children:a.jsx(S,{size:"sm",color:"success",onClick:()=>x(r.userid),children:"Simpan"})})]},r.userid))})]})})]})})})};export{K as default};
