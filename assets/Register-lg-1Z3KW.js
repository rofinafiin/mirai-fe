import{a as u,q as x,j as e}from"./index-D2V8nlRM.js";import{b as j,c as i,a as C}from"./index.esm-Ca04DTdb.js";import{S as m}from"./sweetalert2.esm.all-89IKscqO.js";import{C as g,a as f}from"./CRow-Ct7ALToq.js";import{C as b,a as v}from"./CCardBody-DUAaruPU.js";import{C as N}from"./CForm-DaDJHq25.js";import{C as o,a as t}from"./CInputGroupText-BXrwE7oC.js";import{c,a as y}from"./cil-user-Dlmw-Gem.js";import{C as n}from"./CFormInput-GUc0UCvS.js";import{c as w}from"./cil-phone-4mwkG2LD.js";import"./CFormControlWrapper-BtpWNr4A.js";import"./CFormControlValidation-_LgEyoOV.js";import"./CFormLabel-B_0DC00u.js";import"./CFormText-CBJllJU5.js";const O=()=>{const[a,r]=u.useState({nama:"",phone_number:"",username:"",email:"",password:""}),d=x(),p=async s=>{s.preventDefault();try{const l=await fetch("https://mirai-be.valla.cloud/api/users/logs/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok)m.fire({icon:"success",title:"Registrasi Berhasil!",text:"Akun Anda berhasil dibuat."}).then(()=>{d("/login")});else{const h=await l.json();m.fire({icon:"error",title:"Gagal Register",text:h.message||"Terjadi kesalahan."})}}catch(l){console.error("Error:",l),alert("Terjadi kesalahan saat register")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(j,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(f,{md:9,lg:7,xl:6,children:e.jsx(b,{className:"mx-4",children:e.jsx(v,{className:"p-4",children:e.jsxs(N,{children:[e.jsx("h1",{children:"Registrasi Akun"}),e.jsx("p",{className:"text-body-secondary",children:"Buat Akun Anda"}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:c})}),e.jsx(n,{placeholder:"Nama Lengkap",autoComplete:"nama",value:a.nama,onChange:s=>r({...a,nama:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:w})}),e.jsx(n,{type:"number",placeholder:"Nomor Handphone",autoComplete:"phonenum",value:a.phone_number,onChange:s=>r({...a,phone_number:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:c})}),e.jsx(n,{placeholder:"Username",autoComplete:"username",value:a.username,onChange:s=>r({...a,username:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:"@"}),e.jsx(n,{placeholder:"Email",autoComplete:"email",value:a.email,onChange:s=>r({...a,email:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:y})}),e.jsx(n,{type:"password",placeholder:"Password",autoComplete:"new-password",value:a.password,onChange:s=>r({...a,password:s.target.value})})]}),e.jsx("div",{className:"d-grid",children:e.jsx(C,{color:"success",onClick:p,children:"Create Account"})})]})})})})})})})};export{O as default};
