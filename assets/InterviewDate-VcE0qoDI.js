import{a as m,j as a}from"./index-Dgy0Bi0q.js";import{a as h}from"./index-xsH4HHeE.js";import{a as p}from"./index-CjQjypWB.js";import{S as d}from"./sweetalert2.esm.all-89IKscqO.js";import{C as j,a as f}from"./CRow-DcBI43CM.js";import{C as u,a as v}from"./CCardBody-DnyiPBuR.js";import{C as T}from"./CCardHeader-DaXQcvJF.js";import{C as b}from"./CCardTitle-C53dOXnu.js";import{C as D,a as y,b as g,c as n,d as k,e as o}from"./CTable-bxCWXPWN.js";import{C as B}from"./CFormInput-Dvq2H025.js";import{a as S}from"./index.esm-CVMAOj2W.js";import"./CFormControlWrapper-DcWyHsdI.js";import"./CFormControlValidation-C6-sXGLc.js";import"./CFormLabel-BzwVPPwp.js";import"./CFormText-Bbf74XKV.js";const K=()=>{const[l,c]=m.useState([]);m.useEffect(()=>{(async()=>{try{const e=p.get("login"),t=(await h.get("http://128.199.221.169:3000/api/adm/usr/interviewdata",{headers:{Authorization:`Bearer ${e}`}})).data.data.map((s,w)=>({id:w+1,userid:s.userid,nama:s.nama,email:s.email,interviewDate:s.tanggal_wawancara?s.tanggal_wawancara.slice(0,10):""}));c(t)}catch(e){console.error("Gagal mengambil data interview:",e)}})()},[]);const C=(r,e)=>{const i=l.map(t=>t.userid===e?{...t,interviewDate:r.target.value}:t);c(i)},x=async r=>{const e=l.find(i=>i.userid===r);if(!(e!=null&&e.interviewDate))return d.fire("Tanggal belum dipilih","Silakan isi tanggal interview terlebih dahulu.","warning");try{const i=p.get("login");await h.put("http://128.199.221.169:3000/api/adm/usr/interview",{userid:r,tanggal_wawancara:e.interviewDate},{headers:{Authorization:`Bearer ${i}`}}),d.fire("Berhasil!",`Tanggal interview untuk ${e.nama} telah disimpan.`,"success")}catch(i){console.error("Gagal simpan tanggal wawancara:",i),d.fire("Gagal!","Terjadi kesalahan saat menyimpan data.","error")}};return a.jsx(j,{children:a.jsx(f,{xs:12,children:a.jsxs(u,{children:[a.jsx(T,{children:a.jsx(b,{children:"Penjadwalan Tanggal Interview"})}),a.jsx(v,{children:a.jsxs(D,{responsive:!0,hover:!0,children:[a.jsx(y,{children:a.jsxs(g,{children:[a.jsx(n,{children:"#"}),a.jsx(n,{children:"Nama"}),a.jsx(n,{children:"Email"}),a.jsx(n,{children:"Tanggal Interview"}),a.jsx(n,{children:"Aksi"})]})}),a.jsx(k,{children:l.map((r,e)=>a.jsxs(g,{children:[a.jsx(o,{children:e+1}),a.jsx(o,{children:r.nama}),a.jsx(o,{children:r.email}),a.jsx(o,{children:a.jsx(B,{type:"date",value:r.interviewDate,onChange:i=>C(i,r.userid)})}),a.jsx(o,{children:a.jsx(S,{size:"sm",color:"success",onClick:()=>x(r.userid),children:"Simpan"})})]},r.userid))})]})})]})})})};export{K as default};
