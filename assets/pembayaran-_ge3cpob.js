import{x as b,q as f,a as c,j as a}from"./index-D2V8nlRM.js";import{a as m}from"./index-xsH4HHeE.js";import{a as d}from"./index-CjQjypWB.js";import{C,a as y}from"./CCardBody-DUAaruPU.js";import{C as j}from"./CCardHeader-sLUiN65p.js";import{C as k}from"./CCardTitle-DoD2ziKM.js";import{C as l,a as o}from"./CRow-Ct7ALToq.js";import{C as g}from"./CFormLabel-B_0DC00u.js";import{C as B}from"./CFormText-CBJllJU5.js";import{a as p}from"./index.esm-Ca04DTdb.js";const U=()=>{const{user_id:r}=b(),u=f(),[i,h]=c.useState(!1);c.useEffect(()=>{(async()=>{try{const e=d.get("login"),s=(await m.get(`https://mirai-be.valla.cloud/api/adm/usr/paymentid/${r}`,{headers:{Authorization:`Bearer ${e}`}})).data.data;h(!!(s!=null&&s.pembayaran_id))}catch(e){console.error("Gagal mengambil status pembayaran:",e)}})()},[r]);const x=async()=>{try{const t=d.get("login"),e=await m.post("https://mirai-be.valla.cloud/api/adm/usr/payment",{userid:r},{headers:{Authorization:`Bearer ${t}`},responseType:"blob"}),n=new Blob([e.data],{type:"application/pdf"}),s=URL.createObjectURL(n);window.open(s,"_blank")}catch(t){console.error("Gagal membuka bukti pembayaran:",t)}};return a.jsxs(C,{children:[a.jsx(j,{children:a.jsxs(k,{children:["Bukti Pembayaran - ",r]})}),a.jsxs(y,{children:[a.jsxs(l,{className:"mb-3",children:[a.jsx(o,{md:4,children:a.jsx(g,{children:"Bukti Pembayaran"})}),a.jsx(o,{md:4,children:a.jsx(B,{className:i?"text-success":"text-danger",children:i?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(o,{md:4,children:i&&a.jsx(p,{size:"sm",color:"info",onClick:x,children:"View"})})]}),a.jsx(l,{children:a.jsx(o,{className:"d-flex justify-content-end",children:a.jsx(p,{color:"secondary",onClick:()=>u("/admin"),children:"Kembali ke Dashboard"})})})]})]})};export{U as default};
