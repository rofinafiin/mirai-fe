import{a as m,x as g,j as a}from"./index-BdMxLv_z.js";import{a as h}from"./index-xsH4HHeE.js";import{a as u}from"./index-CjQjypWB.js";import{C as w,a as y}from"./CCardBody-DU_60Tv5.js";import{C as R}from"./CCardHeader-BDDik7GP.js";import{C as S}from"./CCardTitle-mkizC4Bg.js";import{C as p,a as n}from"./CRow-DZId6JQE.js";import{C as x}from"./CFormLabel-BrxWH0En.js";import{C as j}from"./CFormText-gWsjZh2J.js";import{a as B}from"./index.esm-hb0WeYHP.js";const _=()=>{const[l,f]=m.useState(null),{user_id:c}=g(),[d,b]=m.useState(null);m.useEffect(()=>{(async()=>{try{const e=u.get("login"),s=await h.get(`https://mirai-be.valla.cloud/api/adm/usr/administrasi/${c}`,{headers:{Authorization:`Bearer ${e}`}});b(s.data.data)}catch(e){console.error("Gagal mengambil data dokumen:",e)}})(),C("foto",f)},[c]);const k=async t=>{try{const e=u.get("login"),s=await h.post(`https://mirai-be.valla.cloud/api/adm/usr/${t}`,{userid:c},{headers:{Authorization:`Bearer ${e}`},responseType:"blob"}),r=new Blob([s.data],{type:"application/pdf"}),o=URL.createObjectURL(r);window.open(o,"_blank")}catch(e){console.error(`Gagal membuka dokumen ${t}:`,e)}},C=async(t,e)=>{try{const s=u.get("login"),r=await h.post(`https://mirai-be.valla.cloud/api/adm/usr/${t}`,{userid:c},{headers:{Authorization:`Bearer ${s}`},responseType:"blob"}),o=URL.createObjectURL(r.data);e(o)}catch(s){console.error(`Gagal menampilkan gambar ${t}:`,s)}},i=(t,e,s)=>{const r=d==null?void 0:d[e],o=r&&r.data&&r.data.length>0;return a.jsxs(p,{className:"mb-3",children:[a.jsx(n,{md:4,children:a.jsx(x,{children:t})}),a.jsx(n,{md:4,children:a.jsx(j,{className:o?"text-success":"text-danger",children:o?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(n,{md:4,children:o&&a.jsx(B,{size:"sm",color:"info",onClick:()=>k(s),children:"View"})})]},e)};return a.jsxs(w,{children:[a.jsx(R,{children:a.jsxs(S,{children:["Dokumen Administrasi - ",c]})}),a.jsxs(y,{children:[i("Scan KTP","ktp","ktp"),i("Scan Ijazah","ijazah","ijazah"),i("Sertifikat Bahasa","sertifikat_bahasa","sbahasa"),i("Sertifikat Keahlian","sertifikat_keahlian","skeahlian"),i("Surat Keterangan Sehat","surat_sehat","sksehat"),a.jsxs(p,{className:"mb-3",children:[a.jsx(n,{md:4,children:a.jsx(x,{children:"Pas Foto"})}),a.jsx(n,{md:4,children:a.jsx(j,{className:l?"text-success":"text-danger",children:l?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(n,{md:4,children:l&&a.jsx("img",{src:l,alt:"Pas Foto",style:{width:"100px",borderRadius:"8px",border:"1px solid #ccc"}})})]}),i("Curriculum Vitae","cv","cv")]})]})};export{_ as default};
