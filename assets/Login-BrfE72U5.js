import{a as k,q as f,j as a,L as y,v as b}from "./index-CysEViwc.js";import{b as w,c as l,a as t}from "./index.esm-GmE4fjiv.js";import{S as c}from "./sweetalert2.esm.all-89IKscqO.js";import{C as m,a as i}from "./CRow-DMg1pzwh.js";import{C as N}from "./CCardGroup-C-2GkoLB.js";import{C as d,a as p}from "./CCardBody-Bn-CDoLE.js";import{C as v}from "./CForm-DszknErW.js";import{C as h,a as x}from "./CInputGroupText-ZHl-lQ5N.js";import{c as L,a as S}from "./cil-user-Dlmw-Gem.js";import{C as u}from "./CFormInput-CAjV3BkB.js";import"./CFormControlWrapper-jvGQi9vb.js";import"./CFormControlValidation-CvUIvH4R.js";import"./CFormLabel-BMX6aSk2.js";const U=()=>{const[e,n]=k.useState({username:"",password:""}),j=f(),g=async s=>{s.preventDefault();try{const r=await fetch("https://mirai-be.valla.cloud/api/users/logs/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await r.json();if(!r.ok){c.fire({icon:"error",title:"Gagal Login",text:o.message||"Terjadi kesalahan."});return}const C=18/24;b.set("login",o.token,{expires:C,path:"/",secure:!0,sameSite:"Strict"}),c.fire({icon:"success",title:"Login Berhasil!",text:"Anda Berhasil Login ke Dashboard"}).then(()=>{j("/dashboard")})}catch(r){console.error("Error:",r),alert("Terjadi kesalahan saat login")}};return a.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:a.jsx(w,{children:a.jsx(m,{className:"justify-content-center",children:a.jsx(i,{md:8,children:a.jsxs(N,{children:[a.jsx(d,{className:"p-4",children:a.jsx(p,{children:a.jsxs(v,{children:[a.jsx("h1",{children:"Login"}),a.jsx("p",{className:"text-body-secondary",children:"Masuk Menggunakan Akun Anda"}),a.jsxs(h,{className:"mb-3",children:[a.jsx(x,{children:a.jsx(l,{icon:L})}),a.jsx(u,{placeholder:"Username",autoComplete:"username",value:e.username,onChange: s=>n({...e,username:s.target.value})})]}),a.jsxs(h,{className:"mb-4",children:[a.jsx(x,{children:a.jsx(l,{icon:S})}),a.jsx(u,{type:"password",placeholder:"Password",autoComplete:"current-password",value:e.password,onChange: s=>n({...e,password:s.target.value})})]}),a.jsxs(m,{children:[a.jsx(i,{xs:6,children:a.jsx(t,{color:"primary",className:"px-4",onClick:g,children:"Login"})}),a.jsx(i,{xs:6,className:"text-right",children:a.jsx(t,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),a.jsx(d,{className:"text-white bg-primary py-5",style:{width:"44%"},children:a.jsx(p,{className:"text-center",children:a.jsxs("div",{children:[a.jsx("h2",{children:"Sign up"}),a.jsx("p",{children:"Aplikasi ini dibuat khusus untuk calon pekerja yang akan melakukan tahapan administrasi. Jika belum memiliki akun, silahkan lakukan registrasi dengan menekan tombol daftar dibawah ini."}),a.jsx(y,{to:"/register",children:a.jsx(t,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Daftar"})})]})})})]})})})})})};export{U as default};
