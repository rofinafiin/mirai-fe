import{f as t,a as V,h as n,p as r,_ as Q,J as e,H as U,m as W}from"./index-CGU3vo64.js";import{u as X,t as Y,v as Z}from"./DefaultLayout-Chirmq72-CeNFkoRZ.js";import{p as ee,m as oe}from"./getRTLPlacement-C37DhPts-Cu9tBW0A.js";var M=t.forwardRef(function(o,_){var q=o.children,v=o.animation,J=v===void 0?!0:v,L=o.className,$=o.container,j=o.content,h=o.delay,f=h===void 0?0:h,b=o.fallbackPlacements,x=b===void 0?["top","right","bottom","left"]:b,y=o.offset,B=y===void 0?[0,8]:y,g=o.onHide,w=o.onShow,E=o.placement,F=E===void 0?"top":E,m=o.popperConfig,G=o.title,k=o.trigger,i=k===void 0?"click":k,d=o.visible,I=V(o,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]),a=t.useRef(null),c=t.useRef(null),z=X(_,a),N="popover".concat(t.useId()),P=t.useState(!1),u=P[0],T=P[1],C=t.useState(d),s=C[0],H=C[1],O=Y(),A=O.initPopper,D=O.destroyPopper,R=typeof f=="number"?{show:f,hide:f}:f,S={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:x}},{name:"offset",options:{offset:B}}],placement:ee(F,c.current)},K=n(n({},S),typeof m=="function"?m(S):m);t.useEffect(function(){if(d){l();return}p()},[d]),t.useEffect(function(){if(u&&c.current&&a.current){A(c.current,a.current,K),setTimeout(function(){H(!0)},R.show);return}!u&&c.current&&a.current&&D()},[u]),t.useEffect(function(){!s&&c.current&&a.current&&oe(function(){T(!1)},a.current)},[s]);var l=function(){T(!0),w&&w()},p=function(){setTimeout(function(){H(!1),g&&g()},R.hide)};return r.createElement(r.Fragment,null,r.cloneElement(q,n(n(n(n(n({},s&&{"aria-describedby":N}),{ref:c}),(i==="click"||i.includes("click"))&&{onClick:function(){return s?p():l()}}),(i==="focus"||i.includes("focus"))&&{onFocus:function(){return l()},onBlur:function(){return p()}}),(i==="hover"||i.includes("hover"))&&{onMouseEnter:function(){return l()},onMouseLeave:function(){return p()}})),r.createElement(Z,{container:$,portal:!0},u&&r.createElement("div",n({className:Q("popover","bs-popover-auto",{fade:J,show:s},L),id:N,ref:z,role:"tooltip"},I),r.createElement("div",{className:"popover-arrow"}),r.createElement("div",{className:"popover-header"},G),r.createElement("div",{className:"popover-body"},j))))});M.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:W,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),title:e.oneOfType([e.string,e.node]),trigger:U,visible:e.bool};M.displayName="CPopover";export{M as x};
