import{a as m,x as w,q as R,j as a}from"./index-Dgy0Bi0q.js";import{a as h}from"./index-xsH4HHeE.js";import{a as u}from"./index-CjQjypWB.js";import{C as S,a as B}from"./CCardBody-DnyiPBuR.js";import{C as U}from"./CCardHeader-DaXQcvJF.js";import{C as _}from"./CCardTitle-C53dOXnu.js";import{C as p,a as n}from"./CRow-DcBI43CM.js";import{C as x}from"./CFormLabel-BzwVPPwp.js";import{C as j}from"./CFormText-Bbf74XKV.js";import{a as f}from"./index.esm-CVMAOj2W.js";const E=()=>{const[d,k]=m.useState(null),{user_id:c}=w(),[l,C]=m.useState(null),b=R();m.useEffect(()=>{(async()=>{try{const e=u.get("login"),s=await h.get(`http://128.199.221.169:3000/api/adm/usr/administrasi/${c}`,{headers:{Authorization:`Bearer ${e}`}});C(s.data.data)}catch(e){console.error("Gagal mengambil data dokumen:",e)}})(),y("foto",k)},[c]);const g=async t=>{try{const e=u.get("login"),s=await h.post(`http://128.199.221.169:3000/api/adm/usr/${t}`,{userid:c},{headers:{Authorization:`Bearer ${e}`},responseType:"blob"}),r=new Blob([s.data],{type:"application/pdf"}),o=URL.createObjectURL(r);window.open(o,"_blank")}catch(e){console.error(`Gagal membuka dokumen ${t}:`,e)}},y=async(t,e)=>{try{const s=u.get("login"),r=await h.post(`http://128.199.221.169:3000/api/adm/usr/${t}`,{userid:c},{headers:{Authorization:`Bearer ${s}`},responseType:"blob"}),o=URL.createObjectURL(r.data);e(o)}catch(s){console.error(`Gagal menampilkan gambar ${t}:`,s)}},i=(t,e,s)=>{const r=l==null?void 0:l[e],o=r&&r.data&&r.data.length>0;return a.jsxs(p,{className:"mb-3",children:[a.jsx(n,{md:4,children:a.jsx(x,{children:t})}),a.jsx(n,{md:4,children:a.jsx(j,{className:o?"text-success":"text-danger",children:o?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(n,{md:4,children:o&&a.jsx(f,{size:"sm",color:"info",onClick:()=>g(s),children:"View"})})]},e)};return a.jsxs(S,{children:[a.jsx(U,{children:a.jsxs(_,{children:["Dokumen Administrasi - ",c]})}),a.jsxs(B,{children:[i("Scan KTP","scan_ktp","ktp"),i("Scan Ijazah","scan_ijazah","ijazah"),i("Sertifikat Bahasa","sertifikat_bahasa","sbahasa"),i("Sertifikat Keahlian","sertifikat_keahlian","skeahlian"),i("Surat Keterangan Sehat","surat_keterangan_sehat","sksehat"),a.jsxs(p,{className:"mb-3",children:[a.jsx(n,{md:4,children:a.jsx(x,{children:"Pas Foto"})}),a.jsx(n,{md:4,children:a.jsx(j,{className:d?"text-success":"text-danger",children:d?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(n,{md:4,children:d&&a.jsx("img",{src:d,alt:"Pas Foto",style:{width:"100px",borderRadius:"8px",border:"1px solid #ccc"}})})]}),i("Curriculum Vitae","curriculum_vitae","cv"),a.jsx(p,{children:a.jsx(n,{className:"d-flex justify-content-end",children:a.jsx(f,{color:"secondary",onClick:()=>b("/admin"),children:"Kembali ke Dashboard"})})})]})]})};export{E as default};
