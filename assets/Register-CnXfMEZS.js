import{a as u,q as x,j as e}from "./index-CysEViwc.js";import{b as j,c as i,a as C}from "./index.esm-GmE4fjiv.js";import{S as c}from "./sweetalert2.esm.all-89IKscqO.js";import{C as g,a as f}from "./CRow-DMg1pzwh.js";import{C as b,a as v}from "./CCardBody-Bn-CDoLE.js";import{C as N}from "./CForm-DszknErW.js";import{C as o,a as t}from "./CInputGroupText-ZHl-lQ5N.js";import{c as m,a as y}from "./cil-user-Dlmw-Gem.js";import{C as n}from "./CFormInput-CAjV3BkB.js";import{c as w}from "./cil-phone-4mwkG2LD.js";import"./CFormControlWrapper-jvGQi9vb.js";import"./CFormControlValidation-CvUIvH4R.js";import"./CFormLabel-BMX6aSk2.js";const _=()=>{const[a,r]=u.useState({nama:"",phone_number:"",username:"",email:"",password:""}),d=x(),p=async s=>{s.preventDefault();try{const l=await fetch("https://mirai-be.valla.cloud/api/users/logs/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok)c.fire({icon:"success",title:"Registrasi Berhasil!",text:"Akun Anda berhasil dibuat."}).then(()=>{d("/login")});else{const h=await l.json();c.fire({icon:"error",title:"Gagal Register",text:h.message||"Terjadi kesalahan."})}}catch(l){console.error("Error:",l),alert("Terjadi kesalahan saat register")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(j,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(f,{md:9,lg:7,xl:6,children:e.jsx(b,{className:"mx-4",children:e.jsx(v,{className:"p-4",children:e.jsxs(N,{children:[e.jsx("h1",{children:"Registrasi Akun"}),e.jsx("p",{className:"text-body-secondary",children:"Buat Akun Anda"}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:m})}),e.jsx(n,{placeholder:"Nama Lengkap",autoComplete:"nama",value:a.nama,onChange: s=>r({...a,nama:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:w})}),e.jsx(n,{type:"number",placeholder:"Nomor Handphone",autoComplete:"phonenum",value:a.phone_number,onChange: s=>r({...a,phone_number:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:m})}),e.jsx(n,{placeholder:"Username",autoComplete:"username",value:a.username,onChange: s=>r({...a,username:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:"@"}),e.jsx(n,{placeholder:"Email",autoComplete:"email",value:a.email,onChange: s=>r({...a,email:s.target.value})})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(i,{icon:y})}),e.jsx(n,{type:"password",placeholder:"Password",autoComplete:"new-password",value:a.password,onChange: s=>r({...a,password:s.target.value})})]}),e.jsx("div",{className:"d-grid",children:e.jsx(C,{color:"success",onClick:p,children:"Create Account"})})]})})})})})})})};export{_ as default};
