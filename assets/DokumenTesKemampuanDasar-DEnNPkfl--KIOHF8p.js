import{Y as u,f as x,P as e}from"./index-CGU3vo64.js";import{a as j}from"./js.cookie-Cz0CWeBA-DHfMUIt6.js";import{p as c}from"./sweetalert2.esm.all-89IKscqO-BPwcxwDi.js";import{k as g,F as k}from"./index.esm-FQqkxIFl-DEuLJyVG.js";import{x as T,g as _}from"./CCardBody-CvGUaikZ-Cbh_plRX.js";import{r as b}from"./CCardHeader-CmASvoAE-CyvJ9ZC8.js";import{s as y}from"./CForm-r-UQHCbi-Bpj1qy0E.js";import{v as p,x as i}from"./CRow-Le1WPV72-CTgddwaj.js";import{r as m}from"./CFormLabel-CfD73OKN-BkIA6V_d.js";import{x as l}from"./CFormInput--yHu5c7w-DkLTT3Vi.js";import"./CFormControlWrapper-n9xfMDI3-ChWfB7C0.js";import"./CFormControlValidation-N-wD0Vij-C9z6iaq6.js";const G=()=>{const h=u(),[o,d]=x.useState({tes_kognitif:null,tes_keahlian:null,tes_bahasa_jepang:null}),n=r=>{const{name:a,files:t}=r.target;d(s=>({...s,[a]:t[0]}))},f=async r=>{r.preventDefault();const a=new FormData;for(const t in o)o[t]&&a.append(t,o[t]);try{const t=j.get("login");if(!t){console.warn("Token tidak ditemukan di cookie.");return}const s=await(await fetch("https://mirai-be.valla.cloud/api/users/administrasi/tkd",{method:"POST",body:a,headers:{Authorization:`Bearer ${t}`}})).json();console.log(s),c.fire({icon:"success",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Lanjutkan",textColor:"#3085d6",titleText:"Berhasil Upload Dokumen"}).then(()=>{h("/tahapan/wawancara")})}catch(t){console.error(t),c.fire({icon:"error",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Kembali",textColor:"#3085d6",titleText:"Gagal Upload Dokumen"})}};return e.jsx(g,{children:e.jsxs(T,{className:"mt-4",children:[e.jsx(b,{children:e.jsx("h4",{children:"Dokumen Tes Kemampuan Dasar"})}),e.jsx(_,{children:e.jsxs(y,{onSubmit:f,encType:"multipart/form-data",children:[e.jsxs(p,{className:"mb-3",children:[e.jsxs(i,{md:6,children:[e.jsx(m,{htmlFor:"tes_kognitif",children:"Tes Kognitif"}),e.jsx(l,{type:"file",name:"tes_kognitif",accept:".pdf",onChange:n})]}),e.jsxs(i,{md:6,children:[e.jsx(m,{htmlFor:"tes_keahlian",children:"Tes Keahlian"}),e.jsx(l,{type:"file",name:"tes_keahlian",accept:".pdf",onChange:n})]})]}),e.jsx(p,{className:"mb-3",children:e.jsxs(i,{md:6,children:[e.jsx(m,{htmlFor:"tes_bahasa_jepang",children:"Tes Bahasa Jepang"}),e.jsx(l,{type:"file",name:"tes_bahasa_jepang",accept:".pdf",onChange:n})]})}),e.jsx(k,{type:"submit",color:"primary",children:"Upload Dokumen TKD"})]})})]})})};export{G as default};
