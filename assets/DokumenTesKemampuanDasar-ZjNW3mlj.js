import{q as C,a as x,j as a}from"./index-BmUxf-W4.js";import{a as j}from"./index-CjQjypWB.js";import{S as c}from"./sweetalert2.esm.all-89IKscqO.js";import{b as g,a as k}from"./index.esm-CegkCxpS.js";import{C as b,a as T}from"./CCardBody-BuGbIR1M.js";import{C as D}from"./CCardHeader-BY9q6-ba.js";import{C as _}from"./CForm-BCpFP0OU.js";import{C as d,a as s}from"./CRow-COWdv7WZ.js";import{C as i}from"./CFormLabel-B8x8MA-m.js";import{C as m}from"./CFormInput-BxHjkWRv.js";import"./CFormControlWrapper-BS26FX2A.js";import"./CFormControlValidation-6GEEK3y9.js";import"./CFormText-Ck7FVgTK.js";const z=()=>{const p=C(),[o,h]=x.useState({tes_kognitif:null,tes_keahlian:null,tes_bahasa_jepang:null}),n=r=>{const{name:t,files:e}=r.target;h(l=>({...l,[t]:e[0]}))},u=async r=>{r.preventDefault();const t=new FormData;for(const e in o)o[e]&&t.append(e,o[e]);try{const e=j.get("login");if(!e){console.warn("Token tidak ditemukan di cookie.");return}const f=await(await fetch("https://mirai-be.valla.cloud/api/users/administrasi/tkd",{method:"POST",body:t,headers:{Authorization:`Bearer ${e}`}})).json();console.log(f),c.fire({icon:"success",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Lanjutkan",textColor:"#3085d6",titleText:"Berhasil Upload Dokumen"}).then(()=>{p("/tahapan/wawancara")})}catch(e){console.error(e),c.fire({icon:"error",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Kembali",textColor:"#3085d6",titleText:"Gagal Upload Dokumen"})}};return a.jsx(g,{children:a.jsxs(b,{className:"mt-4",children:[a.jsx(D,{children:a.jsx("h4",{children:"Dokumen Tes Kemampuan Dasar"})}),a.jsx(T,{children:a.jsxs(_,{onSubmit:u,encType:"multipart/form-data",children:[a.jsxs(d,{className:"mb-3",children:[a.jsxs(s,{md:6,children:[a.jsx(i,{htmlFor:"tes_kognitif",children:"Tes Kognitif"}),a.jsx(m,{type:"file",name:"tes_kognitif",accept:".pdf",onChange:n})]}),a.jsxs(s,{md:6,children:[a.jsx(i,{htmlFor:"tes_keahlian",children:"Tes Keahlian"}),a.jsx(m,{type:"file",name:"tes_keahlian",accept:".pdf",onChange:n})]})]}),a.jsx(d,{className:"mb-3",children:a.jsxs(s,{md:6,children:[a.jsx(i,{htmlFor:"tes_bahasa_jepang",children:"Tes Bahasa Jepang"}),a.jsx(m,{type:"file",name:"tes_bahasa_jepang",accept:".pdf",onChange:n})]})}),a.jsx(k,{type:"submit",color:"primary",children:"Upload Dokumen TKD"})]})})]})})};export{z as default};
