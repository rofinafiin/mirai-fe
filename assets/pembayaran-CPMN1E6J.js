import{x as f,q as C,a as c,j as a}from"./index-Dgy0Bi0q.js";import{a as m}from"./index-xsH4HHeE.js";import{a as d}from"./index-CjQjypWB.js";import{C as b,a as y}from"./CCardBody-DnyiPBuR.js";import{C as j}from"./CCardHeader-DaXQcvJF.js";import{C as k}from"./CCardTitle-C53dOXnu.js";import{C as l,a as o}from"./CRow-DcBI43CM.js";import{C as g}from"./CFormLabel-BzwVPPwp.js";import{C as B}from"./CFormText-Bbf74XKV.js";import{a as p}from"./index.esm-CVMAOj2W.js";const _=()=>{const{user_id:r}=f(),u=C(),[n,h]=c.useState(!1);c.useEffect(()=>{(async()=>{try{const e=d.get("login"),s=(await m.get(`http://128.199.221.169:3000/api/adm/usr/paymentid/${r}`,{headers:{Authorization:`Bearer ${e}`}})).data.data;h(!!(s!=null&&s.pembayaran_id))}catch(e){console.error("Gagal mengambil status pembayaran:",e)}})()},[r]);const x=async()=>{try{const t=d.get("login"),e=await m.post("http://128.199.221.169:3000/api/adm/usr/payment",{userid:r},{headers:{Authorization:`Bearer ${t}`},responseType:"blob"}),i=new Blob([e.data],{type:"application/pdf"}),s=URL.createObjectURL(i);window.open(s,"_blank")}catch(t){console.error("Gagal membuka bukti pembayaran:",t)}};return a.jsxs(b,{children:[a.jsx(j,{children:a.jsxs(k,{children:["Bukti Pembayaran - ",r]})}),a.jsxs(y,{children:[a.jsxs(l,{className:"mb-3",children:[a.jsx(o,{md:4,children:a.jsx(g,{children:"Bukti Pembayaran"})}),a.jsx(o,{md:4,children:a.jsx(B,{className:n?"text-success":"text-danger",children:n?"✔️ Sudah diupload":"❌ Belum diupload"})}),a.jsx(o,{md:4,children:n&&a.jsx(p,{size:"sm",color:"info",onClick:x,children:"View"})})]}),a.jsx(l,{children:a.jsx(o,{className:"d-flex justify-content-end",children:a.jsx(p,{color:"secondary",onClick:()=>u("/admin"),children:"Kembali ke Dashboard"})})})]})]})};export{_ as default};
