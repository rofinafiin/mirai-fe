import{f,Y as y,P as e,l as b}from"./index-CGU3vo64.js";import{k as N,L as l,F as i}from"./index.esm-FQqkxIFl-DEuLJyVG.js";import{p as c}from"./sweetalert2.esm.all-89IKscqO-BPwcxwDi.js";import{a as w}from"./js.cookie-Cz0CWeBA-DHfMUIt6.js";import{v as m,x as n}from"./CRow-Le1WPV72-CTgddwaj.js";import{r as v}from"./CCardGroup-BPUNZ5MR-Bc7PrgSI.js";import{x as d,g as h}from"./CCardBody-CvGUaikZ-Cbh_plRX.js";import{s as C}from"./CForm-r-UQHCbi-Bpj1qy0E.js";import{d as x,N as p}from"./CInputGroupText-2kibPcdf-Rgfe8AaF.js";import{r as L,a as S}from"./cil-user-Dlmw-Gem-yFXlJL2b.js";import{x as j}from"./CFormInput--yHu5c7w-DkLTT3Vi.js";import"./CFormControlWrapper-n9xfMDI3-ChWfB7C0.js";import"./CFormControlValidation-N-wD0Vij-C9z6iaq6.js";import"./CFormLabel-CfD73OKN-BkIA6V_d.js";const I=()=>{const[a,t]=f.useState({username:"",password:""}),u=y(),g=async s=>{s.preventDefault();try{const r=await fetch("https://mirai-be.valla.cloud/api/users/logs/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),o=await r.json();if(!r.ok){c.fire({icon:"error",title:"Gagal Login",text:o.message||"Terjadi kesalahan."});return}const k=18/24;w.set("login",o.token,{expires:k,path:"/",secure:!0,sameSite:"Strict"}),c.fire({icon:"success",title:"Login Berhasil!",text:"Anda Berhasil Login ke Dashboard"}).then(()=>{u("/dashboard")})}catch(r){console.error("Error:",r),alert("Terjadi kesalahan saat login")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(N,{children:e.jsx(m,{className:"justify-content-center",children:e.jsx(n,{md:8,children:e.jsxs(v,{children:[e.jsx(d,{className:"p-4",children:e.jsx(h,{children:e.jsxs(C,{children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Masuk Menggunakan Akun Anda"}),e.jsxs(x,{className:"mb-3",children:[e.jsx(p,{children:e.jsx(l,{icon:L})}),e.jsx(j,{placeholder:"Username",autoComplete:"username",value:a.username,onChange:s=>t({...a,username:s.target.value})})]}),e.jsxs(x,{className:"mb-4",children:[e.jsx(p,{children:e.jsx(l,{icon:S})}),e.jsx(j,{type:"password",placeholder:"Password",autoComplete:"current-password",value:a.password,onChange:s=>t({...a,password:s.target.value})})]}),e.jsxs(m,{children:[e.jsx(n,{xs:6,children:e.jsx(i,{color:"primary",className:"px-4",onClick:g,children:"Login"})}),e.jsx(n,{xs:6,className:"text-right",children:e.jsx(i,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),e.jsx(d,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(h,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Aplikasi ini dibuat khusus untuk calon pekerja yang akan melakukan tahapan administrasi. Jika belum memiliki akun, silahkan lakukan registrasi dengan menekan tombol daftar dibawah ini."}),e.jsx(b,{to:"/register",children:e.jsx(i,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Daftar"})})]})})})]})})})})})};export{I as default};
